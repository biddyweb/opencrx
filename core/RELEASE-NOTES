Release Name: openCRX/Core 2.2.1
Release Date: 2008-10-14

---------------------------------------------------------------------
Notes:
This software is published under the BSD license
as listed below.

Copyright (c) 2004-2008, CRIXP Corp., Switzerland
All rights reserved.

Redistribution and use in source and binary forms, with or without 
modification, are permitted provided that the following conditions 
are met:

* Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright
notice, this list of conditions and the following disclaimer in
the documentation and/or other materials provided with the
distribution.

* Neither the name of CRIXP Corp. nor the names of the contributors
to openCRX may be used to endorse or promote products derived
from this software without specific prior written permission


THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND
CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS
BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.

------------------

This product includes software developed by the Apache Software
Foundation (http://www.apache.org/).

This product includes software developed by contributors to
openMDX (http://www.openmdx.org/)

---------------------------------------------------------------------

0.    SUMMARY
      * Model
        - Contract relationships
        - Document folder assignments
        - Fax activity replaced by extended EMail activity. Faxes are handled 
          the same way as EMails
      * Improved performance
      * Enhancements for mobile device support
      * Fixed bugs
            
      For more information see below and http://www.opencrx.org/opencrx/2.2/new.htm


1.    NEW FEATURES
      
      CR10008166: FormattedNoteDataBinding
      DataBinding which allows to format Title / Text of a Note. This allows to 
      improve the customizing of grids containing notes. The data binding 
      concatenates title and text of a Note to one string separated by a <br />.
      The title is set to bold. The title is filled up with &nbsp; according
      to the longest line of the text up to a maximum of 140 characters.
      
      Here is an example which shows how to configure the column 'formattedNote' 
      of an ActivityFollowUp:
      
      1. Configure a feature definition for formattedNote:
      
			<org.openmdx.ui1.StructuralFeatureDefinition qualifiedName="org:opencrx:kernel:activity1:ActivityFollowUp:formattedNote">
				<_object>
				  <type>org:w3c:string</type>
				  <multiplicity>0..1</multiplicity>
				  <changeable>false</changeable>
				</_object>
				<_content/>
				</org.openmdx.ui1.StructuralFeatureDefinition>
			</featureDefinition>							

      2. Configure an element definition for formattedNote:
      
			<org.openmdx.ui1.ElementDefinition name="org:opencrx:kernel:activity1:ActivityFollowUp:formattedNote">
				<_object>
					<active>true</active>
					<toolTip>
						<_item>Title / Text</_item>
					</toolTip>
					<label>
						<_item>Title / Text</_item>
					</label>
					<order>
						<_item>90</_item>
						<_item>70</_item>
						<_item>10</_item>
					</order>
					<orderObjectContainer>
						<_item>0</_item>
						<_item>10</_item>
						<_item>0</_item>
					</orderObjectContainer>
					<dataBindingName>org.opencrx.kernel.portal.FormattedNoteDataBinding</dataBindingName>
				</_object>
				<_content/>
			</org.openmdx.ui1.ElementDefinition>

      CR10008105
      SecureObject: replaceOwningGroup().	Operation replaceOwningGroup allows 
      to replace the owning groups of an object by a given set of groups.
      
      CR10008103
      Workflow for scanning documents. Workflow which allows to scan a fs 
      directory and its subdirs for files and map them to Documents and 
      DocumentFolders. The DocumentScannerServlet is configured in web.xml
      as follows:
      * init-param for WorkflowController
        <init-param>
          <param-name>path[3]</param-name>
          <param-value>/DocumentScannerServlet</param-value>
        </init-param>
      * Servlet declaration
        <!-- DocumentScannerServlet -->
        <servlet id="DocumentScannerServlet">
          <servlet-name>DocumentScannerServlet</servlet-name>
          <servlet-class>org.opencrx.application.document.DocumentScannerServlet</servlet-class>
        </servlet>
      * Mapping
        <servlet-mapping>
          <servlet-name>DocumentScannerServlet</servlet-name>
          <url-pattern>/DocumentScannerServlet/*</url-pattern>
        </servlet-mapping>
      The workflow accepts the following component configuration options:
      * scanDir: directory to be scanned for documents
      * urlPrefix: Document revisions are created of type ResourceIdentifier. The
        url of the resource identifier is set to urlPrefix + current directory 
        name within scanDir + document name
      * groups: List of principal groups. owningGroup of all created objects is
        set to the specified list of principal groups. 
      All options are multi-valued, i.e. can have an index suffix [0]..[9].
      
      CR10008084
      DocumentFolderAssignment. Allow CrxObjects to be assigned to 
      document folders. Document folders show assigned objects.
      
      CR10007776
      Contract extensions:
      * AccountAssignmentContract added
      * ContractLinkTo, ContractLinkFrom added
      
      CR10008056
      SendMailWorkflow supports mail gateway. Email activities allow to set
      a gateway address. The gateway address is used for addresses which
      are not of type EMailAddress (e.g. PhoneNumbers). In this case a
      the address is converted to an email address as follows:
      * take address (e.g. phoneNumberFull in case of phone numbers)
      * Remove any characters except digits and letters
      * append domain part of gateway address
      E.g. the phone number +41441112233 is converted to the email address
      _41441112233@fax-gateway.opencrx.org if the domain address is set to 
      the email address noreply@fax-gateway.opencrx.org.
      
      
2.    CHANGES

2.0.  CHANGED FEATURES
      
      CR10008163
      home1: replace Chart by Media. Replace class Chart by Media.
      
      CR10008086
      AccessControl: Caching
      * Cached objects should have a time-to-live (TTL)
      * Any object modification must remove object from cache
      * Cache must be shared by ejb multiple instances 
      
      CR10008032
      AddressBook supports mobile devices. Optimize the AddressBook 
      wizard for mobile devices.
      
      CR10008009
      Migrate ICalServlet, VCardServlet, IMAPServer. Migrate ICalServlet, 
      VCardServlet, IMAPServer from openCRX/Groupware to openCRX/Core. 
      
      
2.1.  FIXED BUGS
      none


2.2   REMOVED FEATURES
      
      CR10008065
      Deprecate Mms, Sms and Fax activities. Mms, Sms and Fax activities are 
      replaced by Email activities.
      
---------------------------------------------------------------------
